<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>My Voice Recorder v1.09</title>
  <link rel="stylesheet" href="myAudio.css?v=1.09c">
</head>
<body>
  <h2>My Voice Recorder v1.09</h2>

  <!-- 버튼 박스 -->
  <div>
    <button id="waitRecordButton">대기후 자동녹음시작</button>
    <br/>
    <button id="startRecordButton">녹음 시작</button>
    <button id="stopRecordButton" disabled>녹음 중지</button>
    <button id="playButton" disabled>녹음된 오디오 재생</button>
    <button id="stopPlayButton" disabled>녹음된 오디오 재생중지</button>
    <br/>
    <button id="downloadButton" disabled>MP3 다운로드</button>
    <button id="viewBase64Button" disabled>Base64 보기</button>
    <button id="s3UploadButton" disabled>MP3 업로드</button>
    <button id="base64UploadButton" disabled  style="display:none;" >Base64 업로드</button>
  </div>

  <!-- 구분선: 대기시간 컨테이너 앞 -->
  <hr class="section-hr">

  <!-- 대기 영역 -->
  <div id="waitRecordContainer" class="slider-container">
    <!-- 대기 시간(초) -->
    <div class="control-row">
      <label for="audioWaitTime">대기 시간(초) :</label>
      <input
        type="number"
        id="audioWaitTime"
        value="30"
        min="1"
        step="1"
        inputmode="numeric"
        autocomplete="off"
      />
    </div>

    <!-- 대기 경과 (우측 상단) -->
    <div class="slider-head" aria-live="polite">
      <span>대기 경과:&nbsp;</span>
      <span id="audioWaitElapsed" class="elapsed">0.0s</span>
    </div>

    <!-- 대기 슬라이더 -->
    <div class="slider-wrap">
      <input
        type="range"
        id="audioWaitSlider"
        min="0"
        max="30"
        step="0.01"
        value="0"
        aria-label="대기 진행률(초)"
      >
    </div>
  </div>

  <!-- 구분선: 녹음 컨테이너 앞 -->
  <hr class="section-hr">

  <!-- 녹음 영역 -->
  <div id="audioRecordContainer" class="slider-container">
    <!-- 녹음 시간(초) -->
    <div class="control-row">
      <label for="audioRecordTime">녹음 시간(초) :</label>
      <input
        type="number"
        id="audioRecordTime"
        value="60"
        min="1"
        step="1"
        inputmode="numeric"
        autocomplete="off"
      />
    </div>

    <!-- 녹음 경과 (우측 상단) -->
    <div class="slider-head" aria-live="polite">
      <span>녹음 경과:&nbsp;</span>
      <span id="audioRecordElapsed" class="elapsed">0.0s</span>
    </div>

    <!-- 녹음 슬라이더 -->
    <div class="slider-wrap">
      <input
        type="range"
        id="audioRecordSlider"
        min="0"
        max="60"
        step="0.01"
        value="0"
        aria-label="녹음 진행률(초)"
      >
    </div>
  </div>

  <!-- 구분선: 플레이어 컨테이너 앞 -->
  <hr class="section-hr">

  <!-- 재생 영역 -->
  <div id="audioPlayerContainer" class="slider-container">
    <!-- 재생 시간/슬라이더 + Pause/Play -->
    <div class="control-row">
      <label for="audioPlayerSlider">재생 시간(초) :</label>
      <span id="audioPlayerTime" aria-live="polite">0</span>
      <button id="audioPauseButton" disabled>Pause</button>
      <button id="audioResumeButton" disabled>Play</button>
    </div>

    <!-- 재생 경과 (우측 상단) -->
    <div class="slider-head" aria-live="polite">
      <span>재생 경과:&nbsp;</span>
      <span id="audioPlayerElapsed" class="elapsed">0.0s</span>
    </div>

    <!-- 재생 슬라이더 -->
    <div class="slider-wrap">
      <input
        type="range"
        id="audioPlayerSlider"
        min="0"
        max="0"
        step="0.01"
        value="0"
        disabled
        aria-label="재생 진행률(초)"
      >
    </div>
  </div>

  <!-- 로그 박스 -->
  <div id="logArea"></div>

  <!-- Base64 출력 영역 -->
  <textarea id="base64audio" placeholder="[Base64 보기] MP3 Base64 문자열 표기란" readonly></textarea>

  <!-- 링크 박스 -->
  <div id="linkArea"></div>


  <!-- MP3 인코딩용 lamejs (CDN) → 엔진 모듈보다 먼저! -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lamejs/1.2.1/lame.min.js"></script>

  <!-- 앱 모듈 (엔진/업로드를 import) -->
  <script type="module" src="myAudio-app.js?v=1.07"></script>
</body>
</html>
